# Default values for todo-app Helm chart

# Global settings
global:
  namespace: todo-app

# Frontend configuration
frontend:
  name: todo-frontend
  replicaCount: 1
  image:
    repository: todo-frontend
    tag: latest
    pullPolicy: Never  # Use local images in Minikube
  service:
    type: NodePort
    port: 3000
    nodePort: 30080
  resources:
    limits:
      cpu: 200m
      memory: 256Mi
    requests:
      cpu: 100m
      memory: 128Mi
  env:
    # This will be set to the Minikube IP with backend NodePort for browser access
    NEXT_PUBLIC_API_BASE_URL: "http://localhost:30081"

# Backend configuration
backend:
  name: todo-backend
  replicaCount: 1
  image:
    repository: todo-backend
    tag: latest
    pullPolicy: Never  # Use local images in Minikube
  service:
    type: NodePort
    port: 8000
    nodePort: 30081
  resources:
    limits:
      cpu: 500m
      memory: 512Mi
    requests:
      cpu: 250m
      memory: 256Mi
  env:
    ALGORITHM: "HS256"
    ACCESS_TOKEN_EXPIRE_MINUTES: "30"



# Secrets configuration (override these during installation)
secrets:
  # Pass actual values via --set during helm install/upgrade
  databaseUrl: ""
  secretKey: ""
  geminiApiKey: ""

# Pod disruption budget (optional)
podDisruptionBudget:
  enabled: false
  minAvailable: 1

# Horizontal Pod Autoscaler (optional)
autoscaling:
  enabled: false
  minReplicas: 1
  maxReplicas: 5
  targetCPUUtilizationPercentage: 80
